// Pannellum 6175668
window.libpannellum=function(G,d,m){function Ha(L,ja){function pa(a,l){return 1==a.level&&1!=l.level?-1:1==l.level&&1!=a.level?1:l.timestamp-a.timestamp}function qa(a,l){return a.level!=l.level?a.level-l.level:a.diff-l.diff}function I(a,l,f,c,p,g,b){this.vertices=a;this.side=l;this.level=f;this.x=c;this.y=p;a="object"===typeof g?g.tileKey:g;a=a.replace("%s",l).replace("%l0",f-1).replace("%l",f).replace("%x",c).replace("%y",p);this.path="object"===typeof g?g[a]:a;this.parentPath=b}function Ra(D,l,
f,O,p,g){var b;var k=f.vertices;b=ra(D,k.slice(0,3));var v=ra(D,k.slice(3,6)),d=ra(D,k.slice(6,9)),k=ra(D,k.slice(9,12)),e=b[0]+v[0]+d[0]+k[0];-4==e||4==e?b=!1:(e=b[1]+v[1]+d[1]+k[1],b=-4==e||4==e?!1:4!=b[2]+v[2]+d[2]+k[2]);if(b){for(var e=[],m=[],q=2,w=[],n=0,k=0;4>k;k++)b=Ja(l,f.vertices.slice(3*k,3*(k+1))),e.push(b[0]*b[3]),m.push(b[1]*b[3]),b=b[2]*b[3],q=Math.min(q,b),w.push(1>=Math.abs(e[k])&&1>=Math.abs(m[k])&&0<b),n+=w[k];d=h.cubeResolution*Math.pow(2,f.level-h.maxLevel);b=Math.ceil(d*h.invTileResolution)-
1;v=d%h.tileResolution*2;d=2*d%h.tileResolution;0===d&&(d=h.tileResolution);0===v&&(v=2*h.tileResolution);if(1<f.level&&0<q&&0<n){for(k=q=0;4>k;k++)if(n=(k+1)%4,w[k]||w[n]){var u=(e[n]-e[k])*a.drawingBufferWidth/2,n=(m[n]-m[k])*a.drawingBufferHeight/2;d<h.tileResolution&&(f.x==b?u*=h.tileResolution/d:f.y==b&&(n*=h.tileResolution/d));v<=h.tileResolution&&(f.x==b&&(u*=2),f.y==b&&(n*=2));q=Math.max(q,Math.sqrt(u*u+n*n))}if(q<=h.tileResolution/2)return}e=f.vertices;k=e[0]+e[3]+e[6]+e[9];m=e[1]+e[4]+e[7]+
e[10];w=e[2]+e[5]+e[8]+e[11];q=Math.sqrt(k*k+m*m+w*w);w=Math.asin(w/q);k=Math.atan2(m,k)-p;k+=k>Math.PI?-2*Math.PI:k<-Math.PI?2*Math.PI:0;k=Math.abs(k);f.diff=Math.acos(Math.sin(O)*Math.sin(w)+Math.cos(O)*Math.cos(w)*Math.cos(k));k=!1;for(m=0;m<c.nodeCache.length;m++)if(c.nodeCache[m].path==f.path){k=!0;c.nodeCache[m].timestamp=c.nodeCacheTimestamp++;c.nodeCache[m].diff=f.diff;c.currentNodes.push(c.nodeCache[m]);break}k||(f.timestamp=c.nodeCacheTimestamp++,c.currentNodes.push(f),c.nodeCache.push(f));
if(f.level<h.maxLevel){w=0.5;if(f.x==b||f.y==b)w=1-h.tileResolution/(h.tileResolution+d);var k=1-w,m=[],u=n=q=w,z=k,s=k,A=k;if(d<h.tileResolution)if(f.x==b&&f.y!=b){if(s=n=0.5,"d"==f.side||"u"==f.side)A=u=0.5}else f.x!=b&&f.y==b&&(z=q=0.5,"l"==f.side||"r"==f.side)&&(A=u=0.5);v<=h.tileResolution&&(f.x==b&&(q=0,z=1,"l"==f.side||"r"==f.side)&&(u=0,A=1),f.y==b&&(n=0,s=1,"d"==f.side||"u"==f.side)&&(u=0,A=1));d=new Float32Array([e[0],e[1],e[2],e[0]*q+e[3]*z,e[1]*w+e[4]*k,e[2]*u+e[5]*A,e[0]*q+e[6]*z,e[1]*
n+e[7]*s,e[2]*u+e[8]*A,e[0]*w+e[9]*k,e[1]*n+e[10]*s,e[2]*u+e[11]*A]);d=new I(d,f.side,f.level+1,2*f.x,2*f.y,h.fullpath,f.path);m.push(d);f.x==b&&v<=h.tileResolution||(d=new Float32Array([e[0]*q+e[3]*z,e[1]*w+e[4]*k,e[2]*u+e[5]*A,e[3],e[4],e[5],e[3]*w+e[6]*k,e[4]*n+e[7]*s,e[5]*u+e[8]*A,e[0]*q+e[6]*z,e[1]*n+e[7]*s,e[2]*u+e[8]*A]),d=new I(d,f.side,f.level+1,2*f.x+1,2*f.y,h.fullpath,f.path),m.push(d));f.x==b&&v<=h.tileResolution||f.y==b&&v<=h.tileResolution||(d=new Float32Array([e[0]*q+e[6]*z,e[1]*n+
e[7]*s,e[2]*u+e[8]*A,e[3]*w+e[6]*k,e[4]*n+e[7]*s,e[5]*u+e[8]*A,e[6],e[7],e[8],e[9]*q+e[6]*z,e[10]*w+e[7]*k,e[11]*u+e[8]*A]),d=new I(d,f.side,f.level+1,2*f.x+1,2*f.y+1,h.fullpath,f.path),m.push(d));f.y==b&&v<=h.tileResolution||(d=new Float32Array([e[0]*w+e[9]*k,e[1]*n+e[10]*s,e[2]*u+e[11]*A,e[0]*q+e[6]*z,e[1]*n+e[7]*s,e[2]*u+e[8]*A,e[9]*q+e[6]*z,e[10]*w+e[7]*k,e[11]*u+e[8]*A,e[9],e[10],e[11]]),d=new I(d,f.side,f.level+1,2*f.x,2*f.y+1,h.fullpath,f.path),m.push(d));for(n=0;n<m.length;n++)Ra(D,l,m[n],
O,p,g)}}}function Ua(){return new Float32Array([-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1])}function ka(a,l,f){var c=Math.sin(l);l=Math.cos(l);if("x"==f)return new Float32Array([a[0],l*a[1]+c*a[2],l*a[2]-c*a[1],a[3],l*a[4]+c*a[5],l*a[5]-c*a[4],a[6],l*a[7]+c*a[8],l*a[8]-c*a[7]]);if("y"==f)return new Float32Array([l*a[0]-c*a[2],a[1],l*a[2]+c*a[0],l*a[3]-c*a[5],a[4],
l*a[5]+c*a[3],l*a[6]-c*a[8],a[7],l*a[8]+c*a[6]]);if("z"==f)return new Float32Array([l*a[0]+c*a[1],l*a[1]-c*a[0],a[2],l*a[3]+c*a[4],l*a[4]-c*a[3],a[5],l*a[6]+c*a[7],l*a[7]-c*a[6],a[8]])}function Ka(a){return new Float32Array([a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]])}function ta(c,l,f,d){c=2*Math.atan(Math.tan(c/2)*a.drawingBufferHeight/a.drawingBufferWidth);c=1/Math.tan(c/2);return new Float32Array([c/l,0,0,0,0,c,0,0,0,0,(d+f)/(f-d),2*d*f/(f-d),0,0,-1,
0])}function La(a,c){return new Float32Array([a[0]*c[0],a[0]*c[1],a[0]*c[2],0,a[5]*c[4],a[5]*c[5],a[5]*c[6],0,a[10]*c[8],a[10]*c[9],a[10]*c[10],a[11],-c[8],-c[9],-c[10],0])}function Ja(a,c){return new Float32Array([a[0]*c[0]+a[1]*c[1]+a[2]*c[2],a[4]*c[0]+a[5]*c[1]+a[6]*c[2],a[11]+a[8]*c[0]+a[9]*c[1]+a[10]*c[2],1/(a[12]*c[0]+a[13]*c[1]+a[14]*c[2])])}function ra(a,c){var f=Ja(a,c),d=f[0]*f[3],p=f[1]*f[3],f=f[2]*f[3],g=[0,0,0];-1>d&&(g[0]=-1);1<d&&(g[0]=1);-1>p&&(g[1]=-1);1<p&&(g[1]=1);if(-1>f||1<f)g[2]=
1;return g}function Va(){console.log("Reducing canvas size due to error 1286!");z.width=Math.round(z.width/2);z.height=Math.round(z.height/2)}function ua(a,c){return Math.pow((Math.abs(a)-c)/c,2)*(0<a-c?1:-1)}function va(a,c){for(var f=Math.floor(a.length/c),d=[],p=0;p<f;p++){for(var g=0,b=0;b<c;b++)g=83*g+wa.indexOf(a[p*c+b]);d.push(g)}return d}function Ca(a,c,f){var d=Math.floor(Math.sqrt(a.length))-1,p=Array(d+1),g=Array(d+1);g[0]=0;p[0]=1;g[1]=Math.sin(f);p[1]=Math.cos(f);for(var b=2;b<=d;b++)g[b]=
2*g[b-1]*p[1]-g[b-2],p[b]=2*p[b-1]*p[1]-p[b-2];for(var k=f=0,b=1;b<=d+1;b++)k+=b;for(;0<=d;d--){var h=Math.floor((d+1)*d/2);f+=0!=h?a[h]*c[h-1]:a[h];for(b=1;b<=d;b++)f+=(a[++h]*p[b]+a[h+k-d-1]*g[b])*c[h-1]}return Math.round(f)}function Wa(a){if(1>P.length)for(var c=Ma.length/32,f=0;32>f;f++){P.push([]);for(var d=0;d<c;d++)P[f].push(ua(va(Ma[f*c+d],1),41)*Da)}va(a[0],1);var d=255*(ua(va(a[1],1),41)+1)/2,h=va(a.slice(2),2);a=[];for(var c=[],g=[],f=0;f<h.length;f++){var b,k=h[f];b=d;var m=Math.floor(k/
19)%19,q=k%19,k=ua(Math.floor(k/361),9)*b,m=ua(m,9)*b;b*=ua(q,9);b=[k,m,b];a.push(b[0]);c.push(b[1]);g.push(b[2])}h=0.03125*Math.PI;b=[];for(f=31;0<=f;f--)for(d=0;64>d;d++)b.push(Ca(a,P[f],(d+0.5)*h)),b.push(Ca(c,P[f],(d+0.5)*h)),b.push(Ca(g,P[f],(d+0.5)*h)),b.push(255);return new ImageData(new Uint8ClampedArray(b),64,32)}var z;L&&(z=d.createElement("canvas"),z.style.width=z.style.height="100%",L.appendChild(z));var c,a,$,U,q,B,T,fa,Q,xa,la,h,E,X,ma,Ea,ga,ha,Na="fbudlr".split(""),Fa="frblud".split("");
ja&&(a=ja);this.init=function(D,l,f,O,p,g,b){function k(a){if(F){var c=a*a*4,d=new Uint8ClampedArray(c),f=b.backgroundColor?b.backgroundColor:[0,0,0];f[0]*=255;f[1]*=255;f[2]*=255;for(var e=0;e<c;e++)d[e++]=f[0],d[e++]=f[1],d[e++]=f[2];a=new ImageData(d,a,a);for(v=0;6>v;v++)0==h[v].width&&(h[v]=a)}}l===m&&(l="equirectangular");if("equirectangular"!=l&&"cubemap"!=l&&"multires"!=l)throw console.log("Error: invalid image type specified!"),{type:"config error"};E=l;h=D;ha=b||{};if(c){$&&(a.detachShader(c,
$),a.deleteShader($));U&&(a.detachShader(c,U),a.deleteShader(U));a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);c.texture&&a.deleteTexture(c.texture);if(c.nodeCache)for(D=0;D<c.nodeCache.length;D++)a.deleteTexture(c.nodeCache[D].texture);if(c.textureLoads)for(N=[];0<c.textureLoads.length;)c.textureLoads.shift()(!1);a.deleteProgram(c);c=m}q&&(B&&(a.detachShader(q,B),a.deleteShader(B)),T&&(a.detachShader(q,T),a.deleteShader(T)),a.deleteProgram(q),q=m);la=m;var v,F=!1,e;
if("cubemap"==E)for(v=0;6>v;v++)0<h[v].width?(e===m&&(e=h[v].width),e!=h[v].width&&console.log("Cube faces have inconsistent widths: "+e+" vs. "+h[v].width)):F=!0;"cubemap"==E&&0!==(e&e-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(a||(a=z.getContext("experimental-webgl",{alpha:!1,
depth:!1})),a&&1286==a.getError()&&Va());if(!a&&("multires"==E&&h.hasOwnProperty("fallbackPath")||"cubemap"==E)&&("WebkitAppearance"in d.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){Q&&L.removeChild(Q);Q=d.createElement("div");Q.className="pnlm-world";f=h.basePath?h.basePath+h.fallbackPath:h.fallbackPath;var M=0;O=function(){var b=d.createElement("canvas");b.className="pnlm-face pnlm-"+Fa[this.side]+"face";Q.appendChild(b);
var a=b.getContext("2d");b.style.width=this.width+4+"px";b.style.height=this.height+4+"px";b.width=this.width+4;b.height=this.height+4;a.drawImage(this,2,2);var c=a.getImageData(0,0,b.width,b.height),f=c.data,e,g;for(e=2;e<b.width-2;e++)for(g=0;4>g;g++)f[4*(e+b.width)+g]=f[4*(e+2*b.width)+g],f[4*(e+b.width*(b.height-2))+g]=f[4*(e+b.width*(b.height-3))+g];for(e=2;e<b.height-2;e++)for(g=0;4>g;g++)f[4*(e*b.width+1)+g]=f[4*(e*b.width+2)+g],f[4*((e+1)*b.width-2)+g]=f[4*((e+1)*b.width-3)+g];for(g=0;4>g;g++)f[4*
(b.width+1)+g]=f[4*(2*b.width+2)+g],f[4*(2*b.width-2)+g]=f[4*(3*b.width-3)+g],f[4*(b.width*(b.height-2)+1)+g]=f[4*(b.width*(b.height-3)+2)+g],f[4*(b.width*(b.height-1)-2)+g]=f[4*(b.width*(b.height-2)-3)+g];for(e=1;e<b.width-1;e++)for(g=0;4>g;g++)f[4*e+g]=f[4*(e+b.width)+g],f[4*(e+b.width*(b.height-1))+g]=f[4*(e+b.width*(b.height-2))+g];for(e=1;e<b.height-1;e++)for(g=0;4>g;g++)f[e*b.width*4+g]=f[4*(e*b.width+1)+g],f[4*((e+1)*b.width-1)+g]=f[4*((e+1)*b.width-2)+g];for(g=0;4>g;g++)f[g]=f[4*(b.width+
1)+g],f[4*(b.width-1)+g]=f[4*(2*b.width-2)+g],f[b.width*(b.height-1)*4+g]=f[4*(b.width*(b.height-2)+1)+g],f[4*(b.width*b.height-1)+g]=f[4*(b.width*(b.height-1)-2)+g];a.putImageData(c,0,0);G.call(this)};var G=function(){0<this.width?(fa===m&&(fa=this.width),fa!=this.width&&console.log("Fallback faces have inconsistent widths: "+fa+" vs. "+this.width)):F=!0;M++;6==M&&(fa=this.width,L.appendChild(Q),g())},F=!1;for(v=0;6>v;v++)p=new Image,p.crossOrigin=ha.crossOrigin?ha.crossOrigin:"anonymous",p.side=
v,p.onload=O,p.onerror=G,p.src="multires"==E?f.replace("%s",Fa[v])+(h.extension?"."+h.extension:""):h[v].src;k(fa)}else{if(!a)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};"cubemap"==E&&k(e);h.fullpath=h.basePath?h.basePath+h.path:h.path;h.invTileResolution=1/h.tileResolution;D=Ua();xa=[];for(v=0;6>v;v++)xa[v]=D.slice(12*v,12*v+12),D=Ua();D=0;if("equirectangular"==E){if(D=a.getParameter(a.MAX_TEXTURE_SIZE),Math.max(h.width/2,h.height)>D)throw console.log("Error: The image is too big; it's "+
h.width+"px wide, but this device's maximum supported size is "+2*D+"px."),{type:"webgl size error",width:h.width,maxWidth:2*D};}else if("cubemap"==E&&e>a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE))throw console.log("Error: The image is too big; it's "+e+"px wide, but this device's maximum supported size is "+D+"px."),{type:"webgl size error",width:e,maxWidth:D};b!==m&&(e=isNaN(b.horizonPitch)?0:Number(b.horizonPitch),l=isNaN(b.horizonRoll)?0:Number(b.horizonRoll),0!=e||0!=l)&&(la=[e,l]);var w=a.TEXTURE_2D;
a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight);a.getShaderPrecisionFormat&&(e=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT))&&1>e.precision&&(ya=ya.replace("highp","mediump"));$=a.createShader(a.VERTEX_SHADER);e=n;"multires"==E&&(e=u);a.shaderSource($,e);a.compileShader($);U=a.createShader(a.FRAGMENT_SHADER);e=da;"cubemap"==E?(w=a.TEXTURE_CUBE_MAP,e=za):"multires"==E&&(e=kb);a.shaderSource(U,e);a.compileShader(U);c=a.createProgram();a.attachShader(c,$);a.attachShader(c,U);
a.linkProgram(c);a.getShaderParameter($,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog($));a.getShaderParameter(U,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog(U));a.getProgramParameter(c,a.LINK_STATUS)||console.log(a.getProgramInfoLog(c));a.useProgram(c);c.drawInProgress=!1;if(null!==b.backgroundColor){var J=b.backgroundColor?b.backgroundColor:[0,0,0];a.clearColor(J[0],J[1],J[2],1);a.clear(a.COLOR_BUFFER_BIT)}c.texCoordLocation=a.getAttribLocation(c,"a_texCoord");a.enableVertexAttribArray(c.texCoordLocation);
if("multires"!=E)X||(X=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,X),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),a.STATIC_DRAW),a.vertexAttribPointer(c.texCoordLocation,2,a.FLOAT,!1,0,0),c.aspectRatio=a.getUniformLocation(c,"u_aspectRatio"),a.uniform1f(c.aspectRatio,a.drawingBufferWidth/a.drawingBufferHeight),c.psi=a.getUniformLocation(c,"u_psi"),c.theta=a.getUniformLocation(c,"u_theta"),c.f=a.getUniformLocation(c,"u_f"),c.h=a.getUniformLocation(c,"u_h"),c.v=a.getUniformLocation(c,
"u_v"),c.vo=a.getUniformLocation(c,"u_vo"),c.rot=a.getUniformLocation(c,"u_rot"),a.uniform1f(c.h,f/(2*Math.PI)),a.uniform1f(c.v,O/Math.PI),a.uniform1f(c.vo,p/Math.PI*2),"equirectangular"==E&&(c.backgroundColor=a.getUniformLocation(c,"u_backgroundColor"),a.uniform4fv(c.backgroundColor,J.concat([1]))),c.texture=a.createTexture(),a.bindTexture(w,c.texture),"cubemap"==E?(a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h[1]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_X,0,a.RGB,a.RGB,
a.UNSIGNED_BYTE,h[3]),a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Y,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h[4]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h[5]),a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Z,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h[0]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h[2])):h.width<=D?(a.uniform1i(a.getUniformLocation(c,"u_splitImage"),0),a.texImage2D(w,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h)):(a.uniform1i(a.getUniformLocation(c,"u_splitImage"),
1),O=d.createElement("canvas"),O.width=h.width/2,O.height=h.height,O=O.getContext("2d"),O.drawImage(h,0,0),p=O.getImageData(0,0,h.width/2,h.height),a.texImage2D(w,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,p),c.texture2=a.createTexture(),a.activeTexture(a.TEXTURE1),a.bindTexture(w,c.texture2),a.uniform1i(a.getUniformLocation(c,"u_image1"),1),O.drawImage(h,-h.width/2,0),p=O.getImageData(0,0,h.width/2,h.height),a.texImage2D(w,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,p),a.texParameteri(w,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(w,
a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(w,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(w,a.TEXTURE_MAG_FILTER,a.LINEAR),a.activeTexture(a.TEXTURE0)),"cubemap"!=E&&h.width&&h.width<=D&&f==2*Math.PI&&0==(h.width&h.width-1)?a.texParameteri(w,a.TEXTURE_WRAP_S,a.REPEAT):a.texParameteri(w,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(w,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(w,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(w,a.TEXTURE_MAG_FILTER,a.LINEAR);else if(c.vertPosLocation=
a.getAttribLocation(c,"a_vertCoord"),a.enableVertexAttribArray(c.vertPosLocation),ma||(ma=a.createBuffer()),Ea||(Ea=a.createBuffer()),ga||(ga=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,Ea),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),a.STATIC_DRAW),a.vertexAttribPointer(c.texCoordLocation,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,ga),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,ma),a.vertexAttribPointer(c.vertPosLocation,
3,a.FLOAT,!1,0,0),c.perspUniform=a.getUniformLocation(c,"u_perspMatrix"),c.cubeUniform=a.getUniformLocation(c,"u_cubeMatrix"),c.currentNodes=[],c.nodeCache=[],c.nodeCacheTimestamp=0,c.textureLoads=[],h.shtHash||h.equirectangularThumbnail){B=a.createShader(a.VERTEX_SHADER);a.shaderSource(B,n);a.compileShader(B);T=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(T,da);a.compileShader(T);q=a.createProgram();a.attachShader(q,B);a.attachShader(q,T);a.linkProgram(q);a.getShaderParameter(B,a.COMPILE_STATUS)||
console.log(a.getShaderInfoLog(B));a.getShaderParameter(T,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog(T));a.getProgramParameter(q,a.LINK_STATUS)||console.log(a.getProgramInfoLog(q));a.useProgram(q);q.texCoordLocation=a.getAttribLocation(q,"a_texCoord");a.enableVertexAttribArray(q.texCoordLocation);X||(X=a.createBuffer());a.bindBuffer(a.ARRAY_BUFFER,X);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),a.STATIC_DRAW);a.vertexAttribPointer(q.texCoordLocation,2,a.FLOAT,
!1,0,0);q.aspectRatio=a.getUniformLocation(q,"u_aspectRatio");a.uniform1f(q.aspectRatio,a.drawingBufferWidth/a.drawingBufferHeight);q.psi=a.getUniformLocation(q,"u_psi");q.theta=a.getUniformLocation(q,"u_theta");q.f=a.getUniformLocation(q,"u_f");q.h=a.getUniformLocation(q,"u_h");q.v=a.getUniformLocation(q,"u_v");q.vo=a.getUniformLocation(q,"u_vo");q.rot=a.getUniformLocation(q,"u_rot");a.uniform1f(q.h,1);q.texture=a.createTexture();a.bindTexture(w,q.texture);var I,P,s,A=function(){a.useProgram(q);
a.uniform1i(a.getUniformLocation(q,"u_splitImage"),0);a.texImage2D(w,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,I);a.texParameteri(w,a.TEXTURE_WRAP_S,a.REPEAT);a.texParameteri(w,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(w,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(w,a.TEXTURE_MAG_FILTER,a.LINEAR);a.uniform1f(q.v,P);a.uniform1f(q.vo,s);a.useProgram(c)};h.shtHash&&(I=Wa(h.shtHash),P=(2+1/31)/2,s=1-(2+1/31)/2,A());if(h.equirectangularThumbnail)if("string"===typeof h.equirectangularThumbnail)if("data:"==
h.equirectangularThumbnail.slice(0,5))I=new Image,I.onload=function(){P=1;s=0;A()},I.src=h.equirectangularThumbnail;else throw console.log("Error: thumbnail string is not a data URI!"),{type:"config error"};else I=h.equirectangularThumbnail,P=1,s=0,A();a.bindBuffer(a.ARRAY_BUFFER,ma);a.vertexAttribPointer(c.vertPosLocation,3,a.FLOAT,!1,0,0);a.useProgram(c)}f=a.getError();if(0!==f)throw console.log("Error: Something went wrong with WebGL!",f),{type:"webgl error"};g()}};this.destroy=function(){L!==
m&&(z!==m&&L.contains(z)&&L.removeChild(z),Q!==m&&L.contains(Q)&&L.removeChild(Q));if(a){var c=a.getExtension("WEBGL_lose_context");c&&c.loseContext()}};this.resize=function(){var d=G.devicePixelRatio||1;z.width=z.clientWidth*d;z.height=z.clientHeight*d;a&&(1286==a.getError()&&Va(),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),"multires"!=E?a.uniform1f(c.aspectRatio,z.clientWidth/z.clientHeight):h.shtHash&&(a.useProgram(q),a.uniform1f(q.aspectRatio,z.clientWidth/z.clientHeight),a.useProgram(c)))};
z&&this.resize();this.setPose=function(a,c){a=isNaN(a)?0:Number(a);c=isNaN(c)?0:Number(c);la=0==a&&0==c?m:[a,c]};this.render=function(d,l,f,n){var p,g,b=0;n===m&&(n={});n.roll&&(b=n.roll);if(n.dynamic)var k=n.dynamic;if(la!==m){p=la[0];g=la[1];var v=d,u=l,e=Math.cos(g)*Math.sin(d)*Math.sin(p)+Math.cos(d)*(Math.cos(p)*Math.cos(l)+Math.sin(g)*Math.sin(p)*Math.sin(l)),B=-Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.sin(l);d=Math.cos(g)*Math.cos(p)*Math.sin(d)+Math.cos(d)*(-Math.cos(l)*Math.sin(p)+
Math.cos(p)*Math.sin(g)*Math.sin(l));d=Math.asin(Math.max(Math.min(d,1),-1));l=Math.atan2(B,e);p=[Math.cos(v)*(Math.sin(g)*Math.sin(p)*Math.cos(u)-Math.cos(p)*Math.sin(u)),Math.cos(v)*Math.cos(g)*Math.cos(u),Math.cos(v)*(Math.cos(p)*Math.sin(g)*Math.cos(u)+Math.sin(u)*Math.sin(p))];g=[-Math.cos(d)*Math.sin(l),Math.cos(d)*Math.cos(l)];g=Math.acos(Math.max(Math.min((p[0]*g[0]+p[1]*g[1])/(Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])*Math.sqrt(g[0]*g[0]+g[1]*g[1])),1),-1));0>p[2]&&(g=2*Math.PI-g);b+=g}n.hook&&
n.hook({gl:a,program:c,previewProgram:q,imageType:E,texCoordBuffer:X,cubeVertBuf:ma,cubeVertTexCoordBuf:Ea,cubeVertIndBuf:ga});if(a||"multires"!=E&&"cubemap"!=E){if("multires"!=E)p=2*Math.atan(Math.tan(0.5*f)/(a.drawingBufferWidth/a.drawingBufferHeight)),p=1/Math.tan(0.5*p),a.uniform1f(c.psi,l),a.uniform1f(c.theta,d),a.uniform1f(c.rot,b),a.uniform1f(c.f,p),!0===k&&"equirectangular"==E&&(a.bindTexture(a.TEXTURE_2D,c.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,h)),a.drawArrays(a.TRIANGLES,
0,6);else{if(k="undefined"!==typeof h.shtHash||"undefined"!==typeof h.equirectangularThumbnail)a.useProgram(q),a.bindBuffer(a.ARRAY_BUFFER,X),a.vertexAttribPointer(q.texCoordLocation,2,a.FLOAT,!1,0,0),a.bindTexture(a.TEXTURE_2D,q.texture),p=2*Math.atan(Math.tan(0.5*f)/(a.drawingBufferWidth/a.drawingBufferHeight)),p=1/Math.tan(0.5*p),a.uniform1f(q.psi,l),a.uniform1f(q.theta,d),a.uniform1f(q.rot,b),a.uniform1f(q.f,p),a.drawArrays(a.TRIANGLES,0,6),a.bindBuffer(a.ARRAY_BUFFER,ma),a.vertexAttribPointer(c.vertPosLocation,
3,a.FLOAT,!1,0,0),a.useProgram(c);v=ta(f,a.drawingBufferWidth/a.drawingBufferHeight,0.1,100);p=ta(f,a.drawingBufferWidth/a.drawingBufferHeight,-100,100);g=new Float32Array([1,0,0,0,1,0,0,0,1]);g=ka(g,-b,"z");g=ka(g,-d,"x");g=ka(g,l,"y");g=new Float32Array([g[0],g[1],g[2],0,g[3],g[4],g[5],0,g[6],g[7],g[8],0,0,0,0,1]);a.uniformMatrix4fv(c.perspUniform,!1,Ka(v));a.uniformMatrix4fv(c.cubeUniform,!1,Ka(g));b=La(v,g);p=La(p,g);c.nodeCache.sort(pa);if(200<c.nodeCache.length&&c.nodeCache.length>c.currentNodes.length+
50)for(g=c.nodeCache.splice(200,c.nodeCache.length-200),v=0;v<g.length;v++)a.deleteTexture(g[v].texture);c.currentNodes=[];for(g=0;6>g;g++)v=new I(xa[g],Na[g],1,0,0,h.fullpath,null),Ra(b,p,v,d,l,f);c.currentNodes.sort(qa);for(d=N.length-1;0<=d;d--)-1===c.currentNodes.indexOf(N[d].node)&&(N[d].node.textureLoad=!1,N.splice(d,1));if(0===N.length)for(d=0;d<c.currentNodes.length;d++)if(l=c.currentNodes[d],!l.texture&&!l.textureLoad){l.textureLoad=!0;setTimeout(J,0,l);break}0<c.textureLoads.length&&c.textureLoads.shift()(!0);
d=!k;if(!c.drawInProgress){c.drawInProgress=!0;d&&a.clear(a.COLOR_BUFFER_BIT);d={};for(l=0;l<c.currentNodes.length;l++)d[c.currentNodes[l].parentPath]===m&&(d[c.currentNodes[l].parentPath]=0),d[c.currentNodes[l].parentPath]+=!(1<c.currentNodes[l].textureLoaded);for(l=0;l<c.currentNodes.length;l++)1<c.currentNodes[l].textureLoaded&&(a.bufferData(a.ARRAY_BUFFER,c.currentNodes[l].vertices,a.STATIC_DRAW),a.bindTexture(a.TEXTURE_2D,c.currentNodes[l].texture),a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,
0));c.drawInProgress=!1}}if(n.returnImage!==m)return G.createImageBitmap&&"ImageBitmap"==n.returnImage?createImageBitmap(z):0==n.returnImage.toString().indexOf("image/")?z.toDataURL(n.returnImage):z.toDataURL("image/jpg",0.5)}else for(g=fa/2,n={f:"translate3d(-"+(g+2)+"px, -"+(g+2)+"px, -"+g+"px)",b:"translate3d("+(g+2)+"px, -"+(g+2)+"px, "+g+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(g+2)+"px, -"+g+"px, "+(g+2)+"px) rotateX(270deg)",d:"translate3d(-"+(g+2)+"px, "+g+"px, -"+(g+2)+"px) rotateX(90deg)",
l:"translate3d(-"+g+"px, -"+(g+2)+"px, "+(g+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+g+"px, -"+(g+2)+"px, -"+(g+2)+"px) rotateY(270deg)"},p=1/Math.tan(f/2),f=p*z.clientWidth/2+"px",l="perspective("+f+") translateZ("+f+") rotateX("+d+"rad) rotateY("+l+"rad) ",f=Object.keys(n),d=0;6>d;d++)if(b=Q.querySelector(".pnlm-"+f[d]+"face"))b.style.webkitTransform=l+n[f[d]],b.style.transform=l+n[f[d]]};this.isLoading=function(){if(a&&"multires"==E)for(var d=0;d<c.currentNodes.length;d++)if(!c.currentNodes[d].textureLoaded)return!0;
return!1};this.isBaseLoaded=function(){if(6<=c.currentNodes.length){for(var a=0;6>a;a++)if(!c.currentNodes[a].textureLoaded)return!1;return!0}return!1};this.getCanvas=function(){return z};var N=[],Ya=function(){function d(){var b=this;this.texture=this.callback=null;this.image=new Image;this.image.crossOrigin=n?n:"anonymous";var g=function(){c.textureLoads.push(function(c){c&&(0<b.image.width&&0<b.image.height?(c=b.image,a.bindTexture(a.TEXTURE_2D,b.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,
a.UNSIGNED_BYTE,c),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.bindTexture(a.TEXTURE_2D,null),b.callback(b.texture,!0)):b.callback(b.texture,!1));N.length?(c=N.shift(),b.loadTexture(c.src,c.texture,c.callback)):m[f++]=b})};this.image.addEventListener("load",g);this.image.addEventListener("error",
g)}function h(b,a,c,d){this.node=b;this.src=a;this.texture=c;this.callback=d}var f=4,m={},n;d.prototype.loadTexture=function(b,a,c){this.texture=a;this.callback=c;this.image.src=b};for(var g=0;g<f;g++)m[g]=new d;return function(b,c,d,g){n=g;g=a.createTexture();f?m[--f].loadTexture(c,g,d):N.push(new h(b,c,g,d));return g}}(),J;J=function(a){Ya(a,a.path+(h.extension?"."+h.extension:""),function(c,d){a.texture=c;a.textureLoaded=d?2:1},ha.crossOrigin)};var wa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~",
Ma="Bf[ff4fff|ffff0fffffBo@Ri5xag{Jmdf2+WiefCs@Ll7+Vi]Btag6[NmdgCv=Ho9;Qk;7zWiF_GsahDy:ErE?Mn$5+SkS_AyWiD#-CuJ[Iqp6;Nnx?7*SlE$*BxR@FtPA?Jq+%7:NnF*zAzn?CwIG@Ft-Y9?IrG+vA%w:AzGR?Cx*IF@EuI,nA+$*9%Gu:A#xCR?ByJ-VB-*wA+J**9*ZBv:9%L.QD.*aB.O.v9-MF+$8,O:MG:*OD;a:UB:IO:n9:Q:KJ;#IG=u-KE=Hs:MC?T:IO=wEL?#%FJ@K**FI@Y;HV=pDU?*sCS@S.uCR[m;Hp=VDq?*SCs@s.QCt[r:Iw=OEz?#IF$@#*HF%@u:K$;KI+=uEK-=*sCM:?w:M+:HO.;aCU;:%OCn?:z.Q..Ha;.ODv?-yFG$@,$-V;-Hw=+JH*?*lBP:?%%,n=+J*?%GQ:=#NCt?;y++v=%O:=zGt?:xHI,@-u,*z=zX?:wI+@,tEY??%r-$*;xt@,tP=?$qG%[:xn.#-:u$[%qp];xnN?[*sl.y:-r-?yn$^+sks_=yoi:v=*o?;uk;[zoi,_+skh:s@zl[+pi];tkg][xmhg;o@ti^xkg{$mhf|+oigf;f[ff_fff|ffff~fffff",
Da=3.317,P=[]}var n="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",u="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",ya="precision highp float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nuniform bool u_splitImage;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);",
za=ya+"float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",da=ya+"lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse {\nif(u_splitImage) {\nif(coord.x < 0.0)\ngl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / u_h, (-coord.y + u_v + u_vo) / (u_v * 2.0)));\nelse\ngl_FragColor = texture2D(u_image1, vec2((coord.x + u_h) / u_h - 1.0, (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n} else {\ngl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}\n}\n}",
kb="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(d,m,n){return new Ha(d,m,n)}}}(window,document);
window.pannellum=function(G,d,m){function Ha(n,u){function ya(){var a=d.createElement("div");a.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e";if(1==a.getElementsByTagName("i").length)L();else{Aa=b.hfov;Oa=b.pitch;var r;if("cubemap"==b.type){H=[];for(a=0;6>a;a++)H.push(new Image),H[a].crossOrigin=b.crossOrigin;t.load.lbox.style.display="block";t.load.lbar.style.display="none"}else if("multires"==b.type)a=JSON.parse(JSON.stringify(b.multiRes)),b.basePath&&b.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(b.multiRes.basePath)?
a.basePath=b.basePath+b.multiRes.basePath:b.multiRes.basePath?a.basePath=b.multiRes.basePath:b.basePath&&(a.basePath=b.basePath),H=a;else if(!0===b.dynamic)H=b.panorama;else{if(b.panorama===m){L(b.strings.noPanoramaError);return}H=new Image}if("cubemap"==b.type)for(var na=6,c=function(){na--;0===na&&da()},g=function(a){var R=d.createElement("a");R.href=a.target.src;R.textContent=R.href;L(b.strings.fileAccessError.replace("%s",R.outerHTML))},a=0;a<H.length;a++)r=b.cubeMap[a],"null"==r?(console.log("Will use background instead of missing cubemap face "+
a),c()):(b.basePath&&!za(r)&&(r=b.basePath+r),H[a].onload=c,H[a].onerror=g,H[a].src=f(r));else if("multires"==b.type)da();else if(r="",b.basePath&&(r=b.basePath),!0!==b.dynamic){if(b.panorama instanceof Image||b.panorama instanceof ImageData||G.ImageBitmap&&b.panorama instanceof ImageBitmap){H=b.panorama;da();return}r=za(b.panorama)?b.panorama:r+b.panorama;H.onload=function(){G.URL.revokeObjectURL(this.src);da()};aa=new XMLHttpRequest;aa.onloadend=function(){if(200!=aa.status){var a=d.createElement("a");
a.href=r;a.textContent=a.href;L(b.strings.fileAccessError.replace("%s",a.outerHTML))}else Ha(this.response,r),t.load.msg.innerHTML=""};aa.onprogress=function(b){if(b.lengthComputable){t.load.lbarFill.style.width=b.loaded/b.total*100+"%";var a,R;1E6<b.total?(a="MB",R=(b.loaded/1E6).toFixed(2),b=(b.total/1E6).toFixed(2)):1E3<b.total?(a="kB",R=(b.loaded/1E3).toFixed(1),b=(b.total/1E3).toFixed(1)):(a="B",R=b.loaded,b=b.total);t.load.msg.innerHTML=R+" / "+b+" "+a}else t.load.lbox.style.display="block",
t.load.lbar.style.display="none"};try{aa.open("GET",r,!0)}catch(e){L(b.strings.malformedURLError)}aa.responseType="blob";aa.setRequestHeader("Accept","image/*,*/*;q=0.9");aa.withCredentials="use-credentials"===b.crossOrigin;aa.send()}b.draggable&&C.classList.add("pnlm-grab");C.classList.remove("pnlm-grabbing");Ba=!0===b.dynamicUpdate;b.dynamic&&Ba&&(H=b.panorama,da())}}function za(b){return/^(?:[a-z]+:)?\/\//i.test(b)||"/"==b[0]||"blob:"==b.slice(0,5)}function da(){k||(k=new libpannellum.renderer(ia));
bb||(bb=!0,Y.addEventListener("mousedown",Ra,!1),d.addEventListener("mousemove",Ka,!1),d.addEventListener("mouseup",ta,!1),b.mouseZoom&&(C.addEventListener("mousewheel",Ca,!1),C.addEventListener("DOMMouseScroll",Ca,!1)),b.doubleClickZoom&&Y.addEventListener("dblclick",Ua,!1),n.addEventListener("mozfullscreenchange",N,!1),n.addEventListener("webkitfullscreenchange",N,!1),n.addEventListener("msfullscreenchange",N,!1),n.addEventListener("fullscreenchange",N,!1),"function"===typeof ResizeObserver?(Za=
new ResizeObserver(q),Za.observe(n)):(G.addEventListener("resize",q,!1),G.addEventListener("orientationchange",q,!1)),b.disableKeyboardCtrl||(n.addEventListener("keydown",Wa,!1),n.addEventListener("keyup",c,!1),n.addEventListener("blur",z,!1)),d.addEventListener("mouseleave",ta,!1),""===d.documentElement.style.pointerAction&&""===d.documentElement.style.touchAction?(Y.addEventListener("pointerdown",Va,!1),Y.addEventListener("pointermove",ua,!1),Y.addEventListener("pointerup",va,!1),Y.addEventListener("pointerleave",
va,!1)):(Y.addEventListener("touchstart",La,!1),Y.addEventListener("touchmove",Ja,!1),Y.addEventListener("touchend",ra,!1)),G.navigator.pointerEnabled&&(n.style.touchAction="none"));la();J(b.hfov);setTimeout(function(){},500)}function Ha(a,r){var na=new FileReader;na.addEventListener("loadend",function(){var c=na.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var f=c.indexOf("\u00ff\u00c2");(0>f||65536<f)&&L(b.strings.iOS8WebGLError)}f=c.indexOf("<x:xmpmeta");if(-1<
f&&!0!==b.ignoreGPanoXMP){var g=c.substring(f,c.indexOf("</x:xmpmeta>")+12),e=function(b){var a;0<=g.indexOf(b+'="')?(a=g.substring(g.indexOf(b+'="')+b.length+2),a=a.substring(0,a.indexOf('"'))):0<=g.indexOf(b+">")&&(a=g.substring(g.indexOf(b+">")+b.length+1),a=a.substring(0,a.indexOf("<")));return a!==m?Number(a):null},c=e("GPano:FullPanoWidthPixels"),f=e("GPano:CroppedAreaImageWidthPixels"),h=e("GPano:FullPanoHeightPixels"),k=e("GPano:CroppedAreaImageHeightPixels"),n=e("GPano:CroppedAreaTopPixels"),
l=e("GPano:PoseHeadingDegrees"),p=e("GPano:PosePitchDegrees"),q=e("GPano:PoseRollDegrees"),s=e("GPano:InitialViewPitchDegrees"),t=e("GPano:InitialViewHeadingDegrees"),e=e("GPano:InitialHorizontalFOVDegrees");null!==c&&null!==f&&null!==h&&null!==k&&null!==n&&(0>V.indexOf("haov")&&(b.haov=f/c*360),0>V.indexOf("vaov")&&(b.vaov=k/h*180),0>V.indexOf("vOffset")&&(b.vOffset=-180*((n+k/2)/h-0.5)),null!==l&&0>V.indexOf("northOffset")&&(b.northOffset=l,!1!==b.compass&&(b.compass=!0)),null!==p&&null!==q&&(0>
V.indexOf("horizonPitch")&&(b.horizonPitch=p),0>V.indexOf("horizonRoll")&&(b.horizonRoll=q)),null!=s&&0>V.indexOf("pitch")&&(b.pitch=s),null!=t&&0>V.indexOf("yaw")&&(b.yaw=t),null!=e&&0>V.indexOf("hfov")&&(b.hfov=e))}H.src=G.URL.createObjectURL(a);H.onerror=function(){(function(){return G.fetch?G.fetch(d.location.href).then(function(b){return b.headers.get("Content-Security-Policy")}):null})().then(function(a){a&&a.split(";").find(function(b){if(b=b.match(/img-src(.*)/))return!b[1].includes("blob")})&&
(console.log("CSP blocks blobs; reverting to URL."),H.crossOrigin=b.crossOrigin,H.src=r)})}});na.readAsBinaryString!==m?na.readAsBinaryString(a):na.readAsText(a)}function L(a){a===m&&(a=b.strings.genericWebGLError);t.errorMsg.innerHTML="<p>"+a+"</p>";x.load.style.display="none";t.load.box.style.display="none";t.errorMsg.style.display="table";Xa=!0;K=m;ia.style.display="none";p("error",a)}function ja(b){t.interactionMsg.style.opacity=1;t.interactionMsg.innerHTML="<p>"+b+"</p>";t.interactionMsg.style.display=
"table";p("messageshown");clearTimeout(t.interactionMsg.timeout);t.interactionMsg.removeEventListener("transitionend",pa);t.interactionMsg.timeout=setTimeout(function(){t.interactionMsg.style.opacity=0;t.interactionMsg.addEventListener("transitionend",pa)},2E3)}function pa(){t.interactionMsg.style.opacity=0;t.interactionMsg.style.display="none";p("messagecleared")}function qa(b){var a=I(b);ea.style.left=a.x+"px";ea.style.top=a.y+"px";clearTimeout(qa.t1);clearTimeout(qa.t2);ea.style.display="block";
ea.style.opacity=1;qa.t1=setTimeout(function(){ea.style.opacity=0},2E3);qa.t2=setTimeout(function(){ea.style.display="none"},2500);b.preventDefault()}function I(b){var a=n.getBoundingClientRect(),c={};c.x=(b.clientX||b.pageX)-a.left;c.y=(b.clientY||b.pageY)-a.top;return c}function Ra(a){a.preventDefault();n.focus();if(K&&b.draggable&&!b.draggingHotSpot){var r=I(a);if(b.hotSpotDebug){var c=ka(a);console.log("Pitch: "+c[0]+", Yaw: "+c[1]+", Center Pitch: "+b.pitch+", Center Yaw: "+b.yaw+", HFOV: "+
b.hfov)}wa();P();b.roll=0;y.hfov=0;e=!0;M=Date.now();sa=r.x;w=r.y;Sa=b.yaw;Ta=b.pitch;C.classList.add("pnlm-grabbing");C.classList.remove("pnlm-grab");p("mousedown",a);B()}}function Ua(a){b.minHfov===b.hfov?g.setHfov(Aa,1E3):(a=ka(a),g.lookAt(a[0],a[1],b.minHfov,1E3))}function ka(a){var r=I(a);a=k.getCanvas();var c=a.clientWidth,d=a.clientHeight;a=r.x/c*2-1;var d=(1-r.y/d*2)*d/c,f=1/Math.tan(b.hfov*Math.PI/360),e=Math.sin(b.pitch*Math.PI/180),g=Math.cos(b.pitch*Math.PI/180),r=f*g-d*e,c=Math.sqrt(a*
a+r*r),d=180*Math.atan((d*g+f*e)/c)/Math.PI;a=180*Math.atan2(a/c,r/c)/Math.PI+b.yaw;-180>a&&(a+=360);180<a&&(a-=360);return[d,a]}function Ka(a){if(F)X(F,a);else if(e&&K){M=Date.now();var r=k.getCanvas(),c=r.clientWidth,r=r.clientHeight;a=I(a);var d=180*(Math.atan(sa/c*2-1)-Math.atan(a.x/c*2-1))/Math.PI*b.hfov/90+Sa;y.yaw=(d-b.yaw)%360*0.2;b.yaw=d;c=360*Math.atan(Math.tan(b.hfov/360*Math.PI)*r/c)/Math.PI;c=180*(Math.atan(a.y/r*2-1)-Math.atan(w/r*2-1))/Math.PI*c/90+Ta;y.pitch=0.2*(c-b.pitch);b.pitch=
c}}function ta(b){F&&F.dragHandlerFunc&&F.dragHandlerFunc(b,F.dragHandlerArgs);F=null;e&&(e=!1,15<Date.now()-M&&(y.pitch=y.yaw=0),C.classList.add("pnlm-grab"),C.classList.remove("pnlm-grabbing"),M=Date.now(),p("mouseup",b))}function La(a){if(K&&b.draggable&&!F){wa();P();b.roll=0;y.hfov=0;var r=I(a.targetTouches[0]);sa=r.x;w=r.y;if(2==a.targetTouches.length){var c=I(a.targetTouches[1]);sa+=0.5*(c.x-r.x);w+=0.5*(c.y-r.y);Ia=Math.sqrt((r.x-c.x)*(r.x-c.x)+(r.y-c.y)*(r.y-c.y))}e=!0;M=Date.now();Sa=b.yaw;
Ta=b.pitch;p("touchstart",a);B()}}function Ja(a){if(b.draggable&&(b.dragConfirm||a.preventDefault(),K&&(M=Date.now()),e&&K)){var r=I(a.targetTouches[0]),c=r.x,d=r.y;if(2==a.targetTouches.length&&-1!=Ia){var f=I(a.targetTouches[1]),c=c+0.5*(f.x-r.x),d=d+0.5*(f.y-r.y),r=Math.sqrt((r.x-f.x)*(r.x-f.x)+(r.y-f.y)*(r.y-f.y));J(b.hfov+0.1*(Ia-r));Ia=r}r=b.hfov/360*b.touchPanSpeedCoeffFactor;A||"both"!=b.dragConfirm&&"yaw"!=b.dragConfirm||2==a.targetTouches.length?(c=(sa-c)*r+Sa,y.yaw=(c-b.yaw)%360*0.2,b.yaw=
c):sa!=c&&("yaw"==b.dragConfirm?ja(b.strings.twoTouchXActivate):ja(b.strings.twoTouchActivate));A||"both"!=b.dragConfirm&&"pitch"!=b.dragConfirm||2==a.targetTouches.length?(d=(d-w)*r+Ta,y.pitch=0.2*(d-b.pitch),b.pitch=d):w!=d&&("pitch"==b.dragConfirm?ja(b.strings.twoTouchYActivate):ja(b.strings.twoTouchActivate));"yaw"!=b.dragConfirm&&"pitch"!=b.dragConfirm&&"both"!=b.dragConfirm||2!=a.targetTouches.length||(pa(),a.preventDefault())}}function ra(){F=null;e=!1;150<Date.now()-M&&(y.pitch=y.yaw=0);Ia=
-1;M=Date.now();p("touchend",event)}function Va(a){"touch"==a.pointerType&&K&&b.draggable&&(oa.push(a.pointerId),Ga.push({clientX:a.clientX,clientY:a.clientY}),a.targetTouches=Ga,La(a),a.preventDefault())}function ua(a){if("touch"==a.pointerType)if(F)X(F,a);else if(b.draggable)for(var r=0;r<oa.length;r++)if(a.pointerId==oa[r]){Ga[r].clientX=a.clientX;Ga[r].clientY=a.clientY;a.targetTouches=Ga;Ja(a);a.preventDefault();break}}function va(a){F&&F.dragHandlerFunc&&F.dragHandlerFunc(a,F.dragHandlerArgs);
F=null;if("touch"==a.pointerType){for(var b=!1,c=0;c<oa.length;c++)a.pointerId==oa[c]&&(oa[c]=m),oa[c]&&(b=!0);b||(oa=[],Ga=[],ra());a.preventDefault()}}function Ca(a){K&&("fullscreenonly"!=b.mouseZoom||A)&&(A||"ctrl"!=b.mouseZoom||a.ctrlKey?(pa(),a.preventDefault(),wa(),M=Date.now(),a.wheelDeltaY?(J(b.hfov-0.05*a.wheelDeltaY),y.hfov=0>a.wheelDelta?1:-1):a.wheelDelta?(J(b.hfov-0.05*a.wheelDelta),y.hfov=0>a.wheelDelta?1:-1):a.detail&&(J(b.hfov+1.5*a.detail),y.hfov=0<a.detail?1:-1),B()):(a=-1!=navigator.platform.indexOf("Mac")?
"control":"ctrl",ja(b.strings.ctrlZoomActivate.replace("%s",'<kbd class="pnlm-outline">'+a+"</kbd>"))))}function Wa(R){wa();M=Date.now();P();b.roll=0;var r=R.which||R.keycode;0>b.capturedKeyNumbers.indexOf(r)||!(A||16!=r&&17!=r||"ctrl"!=b.mouseZoom)||(R.preventDefault(),27==r?A&&Fa():a(r,!0))}function z(){for(var a=0;10>a;a++)s[a]=!1}function c(R){var r=R.which||R.keycode;0>b.capturedKeyNumbers.indexOf(r)||(R.preventDefault(),a(r,!1))}function a(a,b){var c=!1;switch(a){case 109:case 189:case 17:case 173:s[0]!=
b&&(c=!0);s[0]=b;break;case 107:case 187:case 16:case 61:s[1]!=b&&(c=!0);s[1]=b;break;case 38:s[2]!=b&&(c=!0);s[2]=b;break;case 87:s[6]!=b&&(c=!0);s[6]=b;break;case 40:s[3]!=b&&(c=!0);s[3]=b;break;case 83:s[7]!=b&&(c=!0);s[7]=b;break;case 37:s[4]!=b&&(c=!0);s[4]=b;break;case 65:s[8]!=b&&(c=!0);s[8]=b;break;case 39:s[5]!=b&&(c=!0);s[5]=b;break;case 68:s[9]!=b&&(c=!0),s[9]=b}c&&b&&(ca="undefined"!==typeof performance&&performance.now()?performance.now():Date.now(),B())}function $(){if(K){var a=!1,r=
b.pitch,c=b.yaw,d=b.hfov,f;f="undefined"!==typeof performance&&performance.now()?performance.now():Date.now();ca===m&&(ca=f);var e=(f-ca)*b.hfov/1200,e=Math.min(e,10);s[0]&&!0===b.keyboardZoom&&(J(b.hfov+(0.8*y.hfov+0.4)*e),a=!0);s[1]&&!0===b.keyboardZoom&&(J(b.hfov+(0.8*y.hfov-0.2)*e),a=!0);if(s[2]||s[6])b.pitch+=(0.8*y.pitch+0.2)*e,a=!0;if(s[3]||s[7])b.pitch+=(0.8*y.pitch-0.2)*e,a=!0;if(s[4]||s[8])b.yaw+=(0.8*y.yaw-0.2)*e,a=!0;if(s[5]||s[9])b.yaw+=(0.8*y.yaw+0.2)*e,a=!0;a&&(M=Date.now());if(b.autoRotate){if(0.001<
f-ca){var a=(f-ca)/1E3,g=(y.yaw/a*e-0.2*b.autoRotate)*a,g=(0<-b.autoRotate?1:-1)*Math.min(Math.abs(b.autoRotate*a),Math.abs(g));b.yaw+=g}b.autoRotateStopDelay&&(b.autoRotateStopDelay-=f-ca,0>=b.autoRotateStopDelay&&(b.autoRotateStopDelay=!1,ba=b.autoRotate,b.autoRotate=0))}S.pitch&&(U("pitch"),r=b.pitch);S.yaw&&(U("yaw"),c=b.yaw);S.hfov&&(U("hfov"),d=b.hfov);0<e&&!b.autoRotate&&(a=1-b.friction,s[4]||s[5]||s[8]||s[9]||S.yaw||(b.yaw+=y.yaw*e*a),s[2]||s[3]||s[6]||s[7]||S.pitch||(b.pitch+=y.pitch*e*a),
s[0]||s[1]||S.hfov||(90<b.hfov&&(a*=1-(b.hfov-90)/90),J(b.hfov+y.hfov*e*a)));ca=f;0<e&&(y.yaw=0.8*y.yaw+(b.yaw-c)/e*0.2,y.pitch=0.8*y.pitch+(b.pitch-r)/e*0.2,y.hfov=0.8*y.hfov+(b.hfov-d)/e*0.2,r=b.autoRotate?Math.abs(b.autoRotate):5,y.yaw=Math.min(r,Math.max(y.yaw,-r)),y.pitch=Math.min(r,Math.max(y.pitch,-r)),y.hfov=Math.min(r,Math.max(y.hfov,-r)));s[0]&&s[1]&&(y.hfov=0);(s[2]||s[6])&&(s[3]||s[7])&&(y.pitch=0);(s[4]||s[8])&&(s[5]||s[9])&&(y.yaw=0)}}function U(a){var c=S[a],d=Math.min(1,Math.max((Date.now()-
c.startTime)/1E3/(c.duration/1E3),0)),d=c.startPosition+b.animationTimingFunction(d)*(c.endPosition-c.startPosition);if(c.endPosition>c.startPosition&&d>=c.endPosition||c.endPosition<c.startPosition&&d<=c.endPosition||c.endPosition===c.startPosition)d=c.endPosition,y[a]=0,delete S[a];b[a]=d}function q(){N("resize")}function B(){cb||(cb=!0,T())}function T(){if(!hb)if(fa(),$a&&clearTimeout($a),e||!0===Z)requestAnimationFrame(T);else if(s[0]||s[1]||s[2]||s[3]||s[4]||s[5]||s[6]||s[7]||s[8]||s[9]||b.autoRotate||
S.pitch||S.yaw||S.hfov||0.01<Math.abs(y.yaw)||0.01<Math.abs(y.pitch)||0.01<Math.abs(y.hfov))$(),0<=b.autoRotateInactivityDelay&&ba&&Date.now()-M>b.autoRotateInactivityDelay&&!b.autoRotate&&(b.autoRotate=ba,g.lookAt(Oa,m,Aa,3E3)),requestAnimationFrame(T);else if(k&&(k.isLoading()||!0===b.dynamic&&Ba))requestAnimationFrame(T);else{g.getPitch&&g.getYaw&&g.getHfov&&p("animatefinished",{pitch:g.getPitch(),yaw:g.getYaw(),hfov:g.getHfov()});cb=!1;ca=m;var a=b.autoRotateInactivityDelay-(Date.now()-M);0<a?
$a=setTimeout(function(){b.autoRotate=ba;g.lookAt(Oa,m,Aa,3E3);B()},a):0<=b.autoRotateInactivityDelay&&ba&&(b.autoRotate=ba,g.lookAt(Oa,m,Aa,3E3),B())}}function fa(){var a;if(K){var c=k.getCanvas();!1!==b.autoRotate&&(360<b.yaw?b.yaw-=360:-360>b.yaw&&(b.yaw+=360));a=b.yaw;var d=0;if(b.avoidShowingBackground){var e=b.hfov/2,f=180*Math.atan2(Math.tan(e/180*Math.PI),c.width/c.height)/Math.PI;b.vaov>b.haov?Math.min(Math.cos((b.pitch-e)/180*Math.PI),Math.cos((b.pitch+e)/180*Math.PI)):d=e*(1-Math.min(Math.cos((b.pitch-
f)/180*Math.PI),Math.cos((b.pitch+f)/180*Math.PI)))}var e=b.maxYaw-b.minYaw,f=-180,g=180;360>e&&(f=b.minYaw+b.hfov/2+d,g=b.maxYaw-b.hfov/2-d,e<b.hfov&&(f=g=(f+g)/2),b.yaw=Math.max(f,Math.min(g,b.yaw)));!1===b.autoRotate&&(360<b.yaw?b.yaw-=360:-360>b.yaw&&(b.yaw+=360));!1!==b.autoRotate&&a!=b.yaw&&ca!==m&&(b.autoRotate*=-1);a=2*Math.atan(Math.tan(b.hfov/180*Math.PI*0.5)/(c.width/c.height))/Math.PI*180;c=b.minPitch+a/2;d=b.maxPitch-a/2;b.maxPitch-b.minPitch<a&&(c=d=(c+d)/2);isNaN(c)&&(c=-90);isNaN(d)&&
(d=90);b.pitch=Math.max(c,Math.min(d,b.pitch));k.render(b.pitch*Math.PI/180,b.yaw*Math.PI/180,b.hfov*Math.PI/180,{roll:b.roll*Math.PI/180,dynamic:Ba});ab&&(ab=Ba=!1);b.hotSpots.forEach(ga);b.compass&&(Pa.style.transform="rotate("+(-b.yaw-b.northOffset)+"deg)",Pa.style.webkitTransform="rotate("+(-b.yaw-b.northOffset)+"deg)")}}function Q(a,b,c,d){this.w=a;this.x=b;this.y=c;this.z=d}function xa(a){var c;c=a.alpha;var d=a.beta;a=a.gamma;d=[d?d*Math.PI/180/2:0,a?a*Math.PI/180/2:0,c?c*Math.PI/180/2:0];
c=[Math.cos(d[0]),Math.cos(d[1]),Math.cos(d[2])];d=[Math.sin(d[0]),Math.sin(d[1]),Math.sin(d[2])];c=new Q(c[0]*c[1]*c[2]-d[0]*d[1]*d[2],d[0]*c[1]*c[2]-c[0]*d[1]*d[2],c[0]*d[1]*c[2]+d[0]*c[1]*d[2],c[0]*c[1]*d[2]+d[0]*d[1]*c[2]);c=c.multiply(new Q(Math.sqrt(0.5),-Math.sqrt(0.5),0,0));d=G.orientation?-G.orientation*Math.PI/180/2:0;c=c.multiply(new Q(Math.cos(d),0,-Math.sin(d),0)).toEulerAngles();"number"==typeof Z&&10>Z?Z+=1:10===Z?(ib=c[2]/Math.PI*180+b.yaw,Z=!0,requestAnimationFrame(T)):(b.pitch=c[0]/
Math.PI*180,b.roll=-c[1]/Math.PI*180,b.yaw=-c[2]/Math.PI*180+ib)}function la(){try{var a={};b.horizonPitch!==m&&(a.horizonPitch=b.horizonPitch*Math.PI/180);b.horizonRoll!==m&&(a.horizonRoll=b.horizonRoll*Math.PI/180);b.backgroundColor!==m&&(a.backgroundColor=b.backgroundColor);k.init(H,b.type,b.haov*Math.PI/180,b.vaov*Math.PI/180,b.vOffset*Math.PI/180,h,a)}catch(c){if(!0!==b.dynamic&&(H=m),"webgl error"==c.type||"no webgl"==c.type)L();else if("webgl size error"==c.type)L(b.strings.textureSizeError.replace("%s",
c.width).replace("%s",c.maxWidth));else throw L(b.strings.unknownError),c;}}function h(){if(b.sceneFadeDuration&&k.fadeImg!==m){k.fadeImg.style.opacity=0;var a=k.fadeImg;delete k.fadeImg;setTimeout(function(){ia.removeChild(a);p("scenechangefadedone")},b.sceneFadeDuration)}Pa.style.display=b.compass?"inline":"none";ma();t.load.box.style.display="none";v!==m&&(ia.removeChild(v),v=m);K=!0;!0!==b.dynamic&&(H=m);B();p("load")}function E(a){a.pitch=Number(a.pitch)||0;a.yaw=Number(a.yaw)||0;var c=d.createElement("div");
c.tabIndex=-1;c.className="pnlm-hotspot-base";c.className=a.cssClass?c.className+(" "+a.cssClass):c.className+(" pnlm-hotspot pnlm-sprite pnlm-"+l(a.type));var e=d.createElement("span");a.text&&(e.innerHTML=l(a.text));var g;if(a.video){g=d.createElement("video");var h=a.video;b.basePath&&!za(h)&&(h=b.basePath+h);g.src=f(h);g.controls=!0;g.style.width=a.width+"px";C.appendChild(c);e.appendChild(g)}else if(a.image){h=a.image;b.basePath&&!za(h)&&(h=b.basePath+h);g=d.createElement("a");g.href=f(a.URL?
a.URL:h,!0);b.targetBlank&&(g.target="_blank",g.rel="noopener");e.appendChild(g);var k=d.createElement("img");k.src=f(h);k.style.width=a.width+"px";k.style.paddingTop="5px";C.appendChild(c);g.appendChild(k);e.style.maxWidth="initial"}else if(a.URL){g=d.createElement("a");g.href=f(a.URL,!0);if(a.attributes)for(h in a.attributes)g.setAttribute(h,a.attributes[h]);else b.targetBlank&&(g.target="_blank",g.rel="noopener");C.appendChild(g);c.className+=" pnlm-pointer";e.className+=" pnlm-pointer";g.appendChild(c)}else a.sceneId&&
(c.onclick=function(){c.clicked||(c.clicked=!0,Da(a.sceneId,a.targetPitch,a.targetYaw,a.targetHfov));return!1},c.className+=" pnlm-pointer",e.className+=" pnlm-pointer"),C.appendChild(c);if(a.createTooltipFunc)a.createTooltipFunc(c,a.createTooltipArgs);else if(a.text||a.video||a.image)c.classList.add("pnlm-tooltip"),c.appendChild(e),e.style.width=e.scrollWidth-20+"px",e.style.marginLeft=-(e.scrollWidth-c.offsetWidth)/2+"px",e.style.marginTop=-e.scrollHeight-12+"px";a.clickHandlerFunc&&(c.addEventListener("click",
function(b){a.clickHandlerFunc(b,a.clickHandlerArgs)},"false"),""===d.documentElement.style.pointerAction&&""===d.documentElement.style.touchAction?c.addEventListener("pointerup",function(b){a.clickHandlerFunc(b,a.clickHandlerArgs)},!1):c.addEventListener("touchend",function(b){a.clickHandlerFunc(b,a.clickHandlerArgs)},!1),c.className+=" pnlm-pointer",e.className+=" pnlm-pointer");a.draggable&&(c.addEventListener("mousedown",function(b){a.dragHandlerFunc&&a.dragHandlerFunc(b,a.dragHandlerArgs);F=
a}),""===d.documentElement.style.pointerAction&&""===d.documentElement.style.touchAction&&c.addEventListener("pointerdown",function(b){a.dragHandlerFunc&&a.dragHandlerFunc(b,a.dragHandlerArgs);F=a}),c.addEventListener("touchmove",function(b){X(a,b.targetTouches[0])}),c.addEventListener("touchend",function(b){a.dragHandlerFunc&&a.dragHandlerFunc(b,a.dragHandlerArgs);F=null}));a.div=c}function X(a,b){var c=ka(b);a.pitch=c[0];a.yaw=c[1];ga(a)}function ma(){db||(b.hotSpots?(b.hotSpots=b.hotSpots.sort(function(a,
b){return a.pitch<b.pitch}),b.hotSpots.forEach(E)):b.hotSpots=[],db=!0,b.hotSpots.forEach(ga))}function Ea(){var a=b.hotSpots;db=!1;delete b.hotSpots;if(a)for(var c=0;c<a.length;c++){var d=a[c].div;if(d){for(;d.parentNode&&d.parentNode!=C;)d=d.parentNode;C.removeChild(d)}delete a[c].div}}function ga(a){var c=Math.sin(a.pitch*Math.PI/180),d=Math.cos(a.pitch*Math.PI/180),e=Math.sin(b.pitch*Math.PI/180),f=Math.cos(b.pitch*Math.PI/180),g=Math.cos((-a.yaw+b.yaw)*Math.PI/180),h=c*e+d*g*f;if(90>=a.yaw&&
-90<a.yaw&&0>=h||(90<a.yaw||-90>=a.yaw)&&0>=h)a.div.style.visibility="hidden";else{var m=Math.sin((-a.yaw+b.yaw)*Math.PI/180),n=Math.tan(b.hfov*Math.PI/360);a.div.style.visibility="visible";var l=k.getCanvas(),p=l.clientWidth,l=l.clientHeight,c=[-p/n*m*d/h/2,-p/n*(c*f-d*g*e)/h/2],d=Math.sin(b.roll*Math.PI/180),e=Math.cos(b.roll*Math.PI/180),c=[c[0]*e-c[1]*d,c[0]*d+c[1]*e];c[0]+=(p-a.div.offsetWidth)/2;c[1]+=(l-a.div.offsetHeight)/2;p="translate("+c[0]+"px, "+c[1]+"px) translateZ(9999px) rotate("+
b.roll+"deg)";a.scale&&(p="number"==typeof a.scale?p+(" scale("+a.scale+")"):p+(" scale("+Aa/b.hfov/h+")"));a.div.style.webkitTransform=p;a.div.style.MozTransform=p;a.div.style.transform=p}}function ha(a){b={};var c,d,e="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");V=[];for(c in eb)eb.hasOwnProperty(c)&&(b[c]=eb[c]);for(c in u.default)if(u.default.hasOwnProperty(c))if("strings"==c)for(d in u.default.strings)u.default.strings.hasOwnProperty(d)&&(b.strings[d]=l(u.default.strings[d]));
else b[c]=u.default[c],0<=e.indexOf(c)&&V.push(c);if(null!==a&&""!==a&&u.scenes&&u.scenes[a]){var f=u.scenes[a];for(c in f)if(f.hasOwnProperty(c))if("strings"==c)for(d in f.strings)f.strings.hasOwnProperty(d)&&(b.strings[d]=l(f.strings[d]));else b[c]=f[c],0<=e.indexOf(c)&&V.push(c);b.scene=a}for(c in u)if(u.hasOwnProperty(c))if("strings"==c)for(d in u.strings)u.strings.hasOwnProperty(d)&&(b.strings[d]=l(u.strings[d]));else b[c]=u[c],0<=e.indexOf(c)&&V.push(c)}function Na(a){if((a=a?a:!1)&&"preview"in
b){var c=b.preview;b.basePath&&!za(c)&&(c=b.basePath+c);v=d.createElement("div");v.className="pnlm-preview-img";v.style.backgroundImage="url('"+f(c).replace(/"/g,"%22").replace(/'/g,"%27")+"')";ia.appendChild(v)}var c=b.title,e=b.author;a&&("previewTitle"in b&&(b.title=b.previewTitle),"previewAuthor"in b&&(b.author=b.previewAuthor));b.hasOwnProperty("title")||(t.title.innerHTML="");b.hasOwnProperty("author")||(t.author.innerHTML="");b.hasOwnProperty("title")||b.hasOwnProperty("author")||(t.container.style.display=
"none");b.targetBlank&&(Qa.rel="noopener",Qa.target="_blank");x.load.innerHTML="<div><p>"+b.strings.loadButtonLabel+"</p></div>";t.load.boxp.innerHTML=b.strings.loadingLabel;for(var g in b)if(b.hasOwnProperty(g))switch(g){case "title":t.title.innerHTML=l(b[g]);t.container.style.display="inline";break;case "author":var h=l(b[g]);b.authorURL&&(h=d.createElement("a"),h.href=f(b.authorURL,!0),b.targetBlank&&(h.target="_blank",h.rel="noopener"),h.innerHTML=l(b[g]),h=h.outerHTML);t.author.innerHTML=b.strings.bylineLabel.replace("%s",
h);t.container.style.display="inline";break;case "hfov":J(Number(b[g]));break;case "autoLoad":!0===b[g]&&k===m&&(t.load.box.style.display="inline",x.load.style.display="none",ya());break;case "showZoomCtrl":x.zoom.style.display=b[g]&&!1!=b.showControls?"block":"none";break;case "showFullscreenCtrl":x.fullscreen.style.display=b[g]&&!1!=b.showControls&&("fullscreen"in d||"mozFullScreen"in d||"webkitIsFullScreen"in d||"msFullscreenElement"in d)?"block":"none";break;case "hotSpotDebug":fb.style.display=
b[g]?"block":"none";break;case "showControls":b[g]||(x.orientation.style.display="none",x.zoom.style.display="none",x.fullscreen.style.display="none");break;case "orientationOnByDefault":b[g]&&D()}a&&(c?b.title=c:delete b.title,e?b.author=e:delete b.author)}function Fa(){if(K&&!Xa)if(A)d.exitFullscreen?d.exitFullscreen():d.mozCancelFullScreen?d.mozCancelFullScreen():d.webkitCancelFullScreen?d.webkitCancelFullScreen():d.msExitFullscreen&&d.msExitFullscreen();else try{n.requestFullscreen?n.requestFullscreen():
n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullScreen()}catch(a){}}function N(a){d.fullscreenElement||d.fullscreen||d.mozFullScreen||d.webkitIsFullScreen||d.msFullscreenElement?(x.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),A=!0):(x.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),A=!1);"resize"!==a&&p("fullscreenchange",A);k.resize();J(b.hfov);B()}function Ya(a){var c=b.minHfov;"multires"==b.type&&
k&&!b.multiResMinHfov&&(c=Math.min(c,k.getCanvas().width/(b.multiRes.cubeResolution/90*0.9)));if(c>b.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),b.hfov;var d=b.hfov,d=a<c?c:a>b.maxHfov?b.maxHfov:a;b.avoidShowingBackground&&k&&!isNaN(b.maxPitch-b.minPitch)&&(a=k.getCanvas(),d=Math.min(d,360*Math.atan(Math.tan((b.maxPitch-b.minPitch)/360*Math.PI)/a.height*a.width)/Math.PI));return d}function J(a){b.hfov=Ya(a);p("zoomchange",b.hfov)}function wa(){S={};ba=b.autoRotate?
b.autoRotate:ba;b.autoRotate=!1}function Ma(){Xa&&(t.load.box.style.display="none",t.errorMsg.style.display="none",Xa=!1,ia.style.display="block",p("errorcleared"));K=!1;pa();x.load.style.display="none";t.load.box.style.display="inline";ya()}function Da(a,c,e,g,f){K||(f=!0);K=!1;S={};var h,l,n;if(b.sceneFadeDuration&&!f&&(f=k.render(b.pitch*Math.PI/180,b.yaw*Math.PI/180,b.hfov*Math.PI/180,{returnImage:"ImageBitmap"}),f!==m)){h=f.then?d.createElement("canvas"):new Image;h.className="pnlm-fade-img";
h.style.transition="opacity "+b.sceneFadeDuration/1E3+"s";h.style.width="100%";h.style.height="100%";f.then?f.then(function(b){h.width=b.width;h.height=b.height;h.getContext("2d").drawImage(b,0,0);Da(a,c,e,g,!0)}):(h.onload=function(){Da(a,c,e,g,!0)},h.src=f);ia.appendChild(h);k.fadeImg=h;return}f="same"===c?b.pitch:c;l="same"===e?b.yaw:"sameAzimuth"===e?b.yaw+(b.northOffset||0)-(u.scenes[a].northOffset||0):e;n="same"===g?b.hfov:g;Ea();ha(a);y.yaw=y.pitch=y.hfov=0;Na();f!==m&&(b.pitch=f);l!==m&&(b.yaw=
l);n!==m&&(b.hfov=n);p("scenechange",a);Ma()}function P(){G.removeEventListener("deviceorientation",xa);x.orientation.classList.remove("pnlm-orientation-button-active");Z=!1}function D(){gb&&("undefined"!==typeof DeviceMotionEvent&&"function"===typeof DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(a){"granted"==a&&(Z=1,G.addEventListener("deviceorientation",xa),x.orientation.classList.add("pnlm-orientation-button-active"))}):(Z=1,G.addEventListener("deviceorientation",
xa),x.orientation.classList.add("pnlm-orientation-button-active")))}function l(a){return u.escapeHTML?String(a).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(a).split("\n").join("<br>")}function f(a,b){try{var c=decodeURIComponent(O(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(d){return"about:blank"}return 0===c.indexOf("javascript:")||0===c.indexOf("vbscript:")?
(console.log("Script URL removed."),"about:blank"):b&&0===c.indexOf("data:")?(console.log("Data URI removed from link."),"about:blank"):a}function O(a){return a.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(a,b){b=b.toLowerCase();return"colon"===b?":":"#"===b.charAt(0)?"x"===b.charAt(1)?String.fromCharCode(parseInt(b.substring(2),16)):String.fromCharCode(+b.substring(1)):""})}function p(a){if(a in W)for(var b=W[a].length;0<b;b--)W[a][W[a].length-b].apply(null,[].slice.call(arguments,
1))}var g=this,b,k,v,F,e=!1,M=Date.now(),sa=0,w=0,Ia=-1,Sa=0,Ta=0,s=Array(10),A=!1,K,Xa=!1,bb=!1,H,ca,y={yaw:0,pitch:0,hfov:0},cb=!1,Z=!1,ib=0,$a,ba=0,Aa,Oa,S={},W={},V=[],Ba=!1,ab=!1,Za,db=!1,aa,hb=!1,eb={hfov:100,minHfov:50,multiResMinHfov:!1,maxHfov:120,pitch:0,minPitch:m,maxPitch:m,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:m,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,dynamicUpdate:!1,
doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:function(a){return 0.5>a?2*a*a:-1+(4-2*a)*a},draggable:!0,dragConfirm:!1,disableKeyboardCtrl:!1,crossOrigin:"anonymous",targetBlank:!1,touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189],friction:0.15,strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",
loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",
unknownError:"Unknown error. Check developer console.",twoTouchActivate:"Use two fingers together to pan the panorama.",twoTouchXActivate:"Use two fingers together to pan the panorama horizontally.",twoTouchYActivate:"Use two fingers together to pan the panorama vertically.",ctrlZoomActivate:"Use %s + scroll to zoom the panorama."}};n="string"===typeof n?d.getElementById(n):n;n.classList.add("pnlm-container");n.tabIndex=0;var C=d.createElement("div");C.className="pnlm-ui";n.appendChild(C);var ia=
d.createElement("div");ia.className="pnlm-render-container";n.appendChild(ia);var Y=d.createElement("div");Y.className="pnlm-dragfix";C.appendChild(Y);var ea=d.createElement("span");ea.className="pnlm-about-msg";var Qa=d.createElement("a");Qa.href="https://pannellum.org/";Qa.textContent="Pannellum";ea.appendChild(Qa);var jb=d.createElement("span");jb.textContent=" 6175668";ea.appendChild(jb);C.appendChild(ea);Y.addEventListener("contextmenu",qa);var t={},fb=d.createElement("div");fb.className="pnlm-sprite pnlm-hot-spot-debug-indicator";
C.appendChild(fb);t.container=d.createElement("div");t.container.className="pnlm-panorama-info";t.title=d.createElement("div");t.title.className="pnlm-title-box";t.container.appendChild(t.title);t.author=d.createElement("div");t.author.className="pnlm-author-box";t.container.appendChild(t.author);C.appendChild(t.container);t.load={};t.load.box=d.createElement("div");t.load.box.className="pnlm-load-box";t.load.boxp=d.createElement("p");t.load.box.appendChild(t.load.boxp);t.load.lbox=d.createElement("div");
t.load.lbox.className="pnlm-lbox";t.load.lbox.innerHTML='<div class="pnlm-loading"></div>';t.load.box.appendChild(t.load.lbox);t.load.lbar=d.createElement("div");t.load.lbar.className="pnlm-lbar";t.load.lbarFill=d.createElement("div");t.load.lbarFill.className="pnlm-lbar-fill";t.load.lbar.appendChild(t.load.lbarFill);t.load.box.appendChild(t.load.lbar);t.load.msg=d.createElement("p");t.load.msg.className="pnlm-lmsg";t.load.box.appendChild(t.load.msg);C.appendChild(t.load.box);t.errorMsg=d.createElement("div");
t.errorMsg.className="pnlm-error-msg pnlm-info-box";C.appendChild(t.errorMsg);t.interactionMsg=d.createElement("div");t.interactionMsg.className="pnlm-interaction-msg pnlm-info-box";C.appendChild(t.interactionMsg);var x={};x.container=d.createElement("div");x.container.className="pnlm-controls-container";C.appendChild(x.container);x.load=d.createElement("button");x.load.className="pnlm-load-button";x.load.addEventListener("click",function(){Na();Ma()});C.appendChild(x.load);x.zoom=d.createElement("div");
x.zoom.className="pnlm-zoom-controls pnlm-controls";x.zoomIn=d.createElement("div");x.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control";x.zoomIn.addEventListener("click",function(){K&&(J(b.hfov-5),B())});x.zoom.appendChild(x.zoomIn);x.zoomOut=d.createElement("div");x.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control";x.zoomOut.addEventListener("click",function(){K&&(J(b.hfov+5),B())});x.zoom.appendChild(x.zoomOut);x.container.appendChild(x.zoom);x.fullscreen=d.createElement("div");
x.fullscreen.addEventListener("click",Fa);x.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control";(d.fullscreenEnabled||d.mozFullScreenEnabled||d.webkitFullscreenEnabled||d.msFullscreenEnabled)&&x.container.appendChild(x.fullscreen);x.orientation=d.createElement("div");x.orientation.addEventListener("click",function(a){Z?P():D()});x.orientation.addEventListener("mousedown",function(a){a.stopPropagation()});x.orientation.addEventListener("touchstart",
function(a){a.stopPropagation()});x.orientation.addEventListener("pointerdown",function(a){a.stopPropagation()});x.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var gb=!1;G.DeviceOrientationEvent&&"https:"==location.protocol&&(0<=navigator.userAgent.toLowerCase().indexOf("mobi")||0<=navigator.userAgent.indexOf("Mac")&&navigator.maxTouchPoints&&0<navigator.maxTouchPoints)&&(x.container.appendChild(x.orientation),gb=!0);var Pa=
d.createElement("div");Pa.className="pnlm-compass pnlm-controls pnlm-control";C.appendChild(Pa);u.firstScene?ha(u.firstScene):u.default&&u.default.firstScene?ha(u.default.firstScene):ha(null);Na(!0);var oa=[],Ga=[];Q.prototype.multiply=function(a){return new Q(this.w*a.w-this.x*a.x-this.y*a.y-this.z*a.z,this.x*a.w+this.w*a.x+this.y*a.z-this.z*a.y,this.y*a.w+this.w*a.y+this.z*a.x-this.x*a.z,this.z*a.w+this.w*a.z+this.x*a.y-this.y*a.x)};Q.prototype.toEulerAngles=function(){var a=Math.atan2(2*(this.w*
this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),b=Math.asin(2*(this.w*this.y-this.z*this.x)),c=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[a,b,c]};this.isLoaded=function(){return Boolean(K)};this.getPitch=function(){return b.pitch};this.setPitch=function(a,c,d,e){M=Date.now();if(1E-6>=Math.abs(a-b.pitch))return"function"==typeof d&&d(e),this;(c=c==m?1E3:Number(c))?(S.pitch={startTime:Date.now(),startPosition:b.pitch,endPosition:a,duration:c},"function"==
typeof d&&setTimeout(function(){d(e)},c)):b.pitch=a;B();return this};this.getPitchBounds=function(){return[b.minPitch,b.maxPitch]};this.setPitchBounds=function(a){b.minPitch=Math.max(-90,Math.min(a[0],90));b.maxPitch=Math.max(-90,Math.min(a[1],90));return this};this.getYaw=function(){return(b.yaw+540)%360-180};this.setYaw=function(a,c,d,e){M=Date.now();if(1E-6>=Math.abs(a-b.yaw))return"function"==typeof d&&d(e),this;c=c==m?1E3:Number(c);a=(a+180)%360-180;c?(180<b.yaw-a?a+=360:180<a-b.yaw&&(a-=360),
S.yaw={startTime:Date.now(),startPosition:b.yaw,endPosition:a,duration:c},"function"==typeof d&&setTimeout(function(){d(e)},c)):b.yaw=a;B();return this};this.getYawBounds=function(){return[b.minYaw,b.maxYaw]};this.setYawBounds=function(a){b.minYaw=Math.max(-360,Math.min(a[0],360));b.maxYaw=Math.max(-360,Math.min(a[1],360));return this};this.getHfov=function(){return b.hfov};this.setHfov=function(a,c,d,e){M=Date.now();if(1E-6>=Math.abs(a-b.hfov))return"function"==typeof d&&d(e),this;(c=c==m?1E3:Number(c))?
(S.hfov={startTime:Date.now(),startPosition:b.hfov,endPosition:Ya(a),duration:c},"function"==typeof d&&setTimeout(function(){d(e)},c)):J(a);B();return this};this.getHfovBounds=function(){return[b.minHfov,b.maxHfov]};this.setHfovBounds=function(a){b.minHfov=Math.max(0,a[0]);b.maxHfov=Math.max(0,a[1]);return this};this.lookAt=function(a,c,d,e,f,g){e=e==m?1E3:Number(e);a!==m&&1E-6<Math.abs(a-b.pitch)&&(this.setPitch(a,e,f,g),f=m);c!==m&&1E-6<Math.abs(c-b.yaw)&&(this.setYaw(c,e,f,g),f=m);d!==m&&1E-6<
Math.abs(d-b.hfov)&&(this.setHfov(d,e,f,g),f=m);"function"==typeof f&&f(g);return this};this.getNorthOffset=function(){return b.northOffset};this.setNorthOffset=function(a){b.northOffset=Math.min(360,Math.max(0,a));B();return this};this.getHorizonRoll=function(){return b.horizonRoll};this.setHorizonRoll=function(a){b.horizonRoll=Math.min(90,Math.max(-90,a));k.setPose(b.horizonPitch*Math.PI/180,b.horizonRoll*Math.PI/180);B();return this};this.getHorizonPitch=function(){return b.horizonPitch};this.setHorizonPitch=
function(a){b.horizonPitch=Math.min(90,Math.max(-90,a));k.setPose(b.horizonPitch*Math.PI/180,b.horizonRoll*Math.PI/180);B();return this};this.startAutoRotate=function(a,c,d,e){a=a||ba||1;c=c===m?Oa:c;d=d===m?Aa:d;b.autoRotate=a;e!==m&&(b.autoRotateInactivityDelay=e);g.lookAt(c,m,d,3E3);B();return this};this.stopAutoRotate=function(){ba=b.autoRotate?b.autoRotate:ba;b.autoRotate=!1;b.autoRotateInactivityDelay=-1;return this};this.stopMovement=function(){wa();y={yaw:0,pitch:0,hfov:0}};this.getRenderer=
function(){return k};this.setUpdate=function(a){if(Ba=!0===a)ab=!1,k===m?da():B();return this};this.updateOnce=function(){Ba=ab=!0;k===m?da():B();return this};this.mouseEventToCoords=function(a){return ka(a)};this.loadScene=function(a,b,c,d){!1!==K&&Da(a,b,c,d);return this};this.getScene=function(){return b.scene};this.addScene=function(a,b){u.scenes[a]=b;return this};this.removeScene=function(a){if(b.scene==a||!u.scenes.hasOwnProperty(a))return!1;delete u.scenes[a];return!0};this.toggleFullscreen=
function(){Fa();return this};this.getConfig=function(){return b};this.getContainer=function(){return n};this.addHotSpot=function(a,c){if(c===m&&b.scene===m)b.hotSpots.push(a);else{var d=c!==m?c:b.scene;if(u.scenes.hasOwnProperty(d))u.scenes[d].hasOwnProperty("hotSpots")||(u.scenes[d].hotSpots=[],d==b.scene&&(b.hotSpots=u.scenes[d].hotSpots)),u.scenes[d].hotSpots.push(a);else throw"Invalid scene ID!";}if(c===m||b.scene==c)E(a),K&&ga(a);return this};this.removeHotSpot=function(a,c){if(c===m||b.scene==
c){if(!b.hotSpots)return!1;for(var d=0;d<b.hotSpots.length;d++)if(b.hotSpots[d].hasOwnProperty("id")&&b.hotSpots[d].id==a){for(var e=b.hotSpots[d].div;e.parentNode!=C;)e=e.parentNode;C.removeChild(e);delete b.hotSpots[d].div;b.hotSpots.splice(d,1);return!0}}else if(u.scenes.hasOwnProperty(c)){if(!u.scenes[c].hasOwnProperty("hotSpots"))return!1;for(d=0;d<u.scenes[c].hotSpots.length;d++)if(u.scenes[c].hotSpots[d].hasOwnProperty("id")&&u.scenes[c].hotSpots[d].id==a)return u.scenes[c].hotSpots.splice(d,
1),!0}else return!1};this.resize=function(){k&&q()};this.isOrientationSupported=function(){return gb||!1};this.stopOrientation=function(){P()};this.startOrientation=function(){D()};this.isOrientationActive=function(){return Boolean(Z)};this.on=function(a,b){W[a]=W[a]||[];W[a].push(b);return this};this.off=function(a,b){if(!a)return W={},this;if(b){var c=W[a].indexOf(b);0<=c&&W[a].splice(c,1);0==W[a].length&&delete W[a]}else delete W[a];return this};this.destroy=function(){hb=!0;clearTimeout($a);aa&&
aa.abort();if(Array.isArray(H))for(var a=0;6>a;a++)H[a].src="";k&&k.destroy();bb&&(d.removeEventListener("mousemove",Ka,!1),d.removeEventListener("mouseup",ta,!1),n.removeEventListener("mozfullscreenchange",N,!1),n.removeEventListener("webkitfullscreenchange",N,!1),n.removeEventListener("msfullscreenchange",N,!1),n.removeEventListener("fullscreenchange",N,!1),Za?Za.disconnect():(G.removeEventListener("resize",q,!1),G.removeEventListener("orientationchange",q,!1)),n.removeEventListener("keydown",Wa,
!1),n.removeEventListener("keyup",c,!1),n.removeEventListener("blur",z,!1),d.removeEventListener("mouseleave",ta,!1));n.innerHTML="";n.classList.remove("pnlm-container")}}return{viewer:function(d,m){return new Ha(d,m)}}}(window,document);
